# Медицинский клиент

Графическое приложение для внесения данных акустических исследований тазобедренных протезов в базу данных PostgreSQL.

## Возможности

- Авторизация специалиста по адресу электронной почты и паролю (используется таблица `app_user`).
- Внесение информации о пациентах, исследованиях, акустических параметрах, протезах, аудиофайлах, заключениях специалистов и итоговых заключениях.
- Уведомления об успешном сохранении и сообщениях об ошибках при работе с базой данных.

## Подготовка окружения

1. Установите зависимости:

   ```bash
   pip install -r requirements.txt
   ```

2. Создайте файл `config.ini` рядом с исполняемым скриптом, используя `config.example.ini` как образец:

   ```ini
   [database]
   dbname=medical
   user=postgres
   password=postgres
   host=localhost
   port=5432
   ```

3. В таблицу `app_user` добавьте поле `password_hash` и сохраните в нем хэши паролей, созданные функцией `crypt` из расширения `pgcrypto`:

   ```sql
   ALTER TABLE app_user ADD COLUMN password_hash text;
   UPDATE app_user SET password_hash = crypt('пароль', gen_salt('bf')) WHERE email = 'user@example.com';
   ```

## Запуск приложения

```bash
python -m medical_client.app
```

После успешной авторизации откроется главное окно с вкладками для работы с различными таблицами базы данных. Все поля необязательные кроме обязательных идентификаторов, значения можно оставлять пустыми при необходимости.

## Обработка ошибок

- Ошибки подключения и выполнения SQL-запросов отображаются диалоговыми окнами с пояснениями.
- При отсутствии файла конфигурации или обязательных параметров приложение сообщит об этом и завершится.
- Неверные учетные данные не позволяют войти в систему.

